syntax = "proto3";

option go_package = "./pb";

package pb;

message GetDeploymentRequest {
    string namespace = 1;
    string docker_image = 2;
}

message GetDeploymentsResponse {
    repeated Deployment deployments = 1;
}

message Deployment {
    string id = 1;
    string namespace = 2;
    string docker_image = 3;
    string status = 4;
    string created_at = 5;
}

message PostDeploymentRequest {
    string namespace = 1;
    string docker_image = 2;
}

message PostDeploymentResponse {
    string id = 1;
    string message = 2;
}

message RenewDeploymentRequest {
    string deployment_id = 1;
}

message RenewDeploymentResponse {
    string id = 1;
    string message = 2;
}

service AccountService{
    rpc GetDeployments(GetDeploymentRequest) returns (GetDeploymentsResponse);
    rpc Createdeployment(PostDeploymentRequest) returns (PostDeploymentResponse);
    rpc RenewDeployment(RenewDeploymentRequest) returns (RenewDeploymentResponse);
}